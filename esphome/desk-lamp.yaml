substitutions:
  device_name: desklamp
  friendly_name: "Desk Lamp"
  
packages:
  device_base: !include ./devices/sonoff-minir4-extreme.yaml
  config_base: !include ./common/base.yaml

light:
  - platform: binary
    id: light_1
    name: ${friendly_name}
    icon: mdi:desk-lamp
    restore_mode: restore_default_off
    output: relay

binary_sensor:
  - id: !extend button
    on_press:
      - light.toggle:
          id: light_1
  - id: !extend input
    on_press:
      - light.toggle:
          id: light_1
time:
  - platform: sntp
    id: sntp_time
    timezone: America/Detroit
    on_time:
      - seconds: 0
        minutes: 30
        hours: 8
        then:
          - light.turn_on: light_1
      - seconds: 0
        minutes: 00
        hours: 21
        then:
          - light.turn_off: light_1
