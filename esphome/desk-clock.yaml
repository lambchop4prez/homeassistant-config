substitutions:
  name: desk-clock
  friendly_name: ESP Desk Clock
  device_comment: "D1 Mini Desk Clock"
  fonts_dir: ./fonts
  api_encryption_key: !secret desk_clock_encryption_key
  ota_password: !secret desk_clock_ota_password
  spi_clk: GPIO14
  spi_mosi: GPIO13
  display_cs: GPIO15

packages:
  device: !include ./devices/wemos-d1-mini.yaml
  display: !include ./components/max7219digit.yaml

font:
  - file: "${fonts_dir}/Early GameBoy.ttf"
    id: digit_font
    size: 8

time:
  - platform: sntp
    id: sntp_time

display:
  - id: !extend max7219digit_display
    num_chips: 4
    intensity: 5
    lambda: |-
      it.strftime(0, -1, id(digit_font), "%H", id(sntp_time).now());
      it.print(14, -1, id(digit_font), ":");
      it.strftime(18, -1, id(digit_font), "%M", id(sntp_time).now());
